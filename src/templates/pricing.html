{% extends "base.html" %}

{% block title %}Pricing | InboxGenie{% endblock %}

{% block extra_css %}
<style>
    .pricing-header {
        background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
        color: white;
        padding: 4rem 0;
        border-radius: 0 0 20px 20px;
        margin-bottom: 2rem;
    }
    
    .pricing-card {
        border-radius: 10px;
        overflow: hidden;
        transition: transform 0.3s, box-shadow 0.3s;
        height: 100%;
    }
    
    .pricing-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }
    
    .pricing-card.popular {
        border: 2px solid #2575fc;
        transform: scale(1.05);
        z-index: 1;
        box-shadow: 0 10px 30px rgba(37, 117, 252, 0.2);
    }
    
    .pricing-card.popular:hover {
        transform: scale(1.05) translateY(-10px);
    }
    
    .pricing-card .card-header {
        padding: 1.5rem;
        text-align: center;
        border-bottom: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    .pricing-price {
        font-size: 2.5rem;
        font-weight: 700;
    }
    
    .pricing-unit {
        font-size: 1rem;
        color: #6c757d;
    }
    
    .popular-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 2;
    }
    
    .feature-item {
        padding: 0.5rem 0;
        display: flex;
        align-items: center;
    }
    
    .feature-icon {
        margin-right: 0.75rem;
        width: 20px;
        text-align: center;
    }
    
    .feature-available i {
        color: #28a745;
    }
    
    .feature-unavailable {
        opacity: 0.5;
    }
    
    .pricing-cta {
        width: 100%;
        padding: 0.75rem;
        margin-top: 1rem;
    }
    
    .pricing-toggle {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 2.5rem;
    }
    
    .toggle-label {
        margin: 0 1rem;
        font-weight: 500;
    }
    
    .pricing-calculator {
        background-color: #f8f9fa;
        border-radius: 10px;
        padding: 2rem;
        margin-top: 3rem;
    }
    
    .calculator-result {
        background-color: white;
        border-radius: 10px;
        padding: 1.5rem;
        margin-top: 1.5rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }
    
    .faq-section {
        margin-top: 4rem;
    }
    
    .faq-item {
        border-radius: 10px;
        overflow: hidden;
        margin-bottom: 1rem;
        border: 1px solid rgba(0, 0, 0, 0.1);
    }
    
    .compare-plans-btn {
        margin-top: 2.5rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="pricing-header">
    <div class="container text-center">
        <h1 class="display-4 fw-bold mb-4">Choose the Right Plan for Your Needs</h1>
        <p class="lead mb-4">Start with our Free tier and upgrade as your business grows</p>
        
        <div class="pricing-toggle">
            <span class="toggle-label">Monthly</span>
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" id="billingToggle">
            </div>
            <span class="toggle-label">Annual <span class="badge bg-success">Save 20%</span></span>
        </div>
    </div>
</div>

<div class="container">
    <!-- Pricing Tiers -->
    <div class="row mb-5">
        <!-- Free Tier -->
        <div class="col-md-6 col-lg-3 mb-4">
            <div class="card pricing-card h-100">
                <div class="card-header bg-light">
                    <h4 class="my-0 fw-normal">Free</h4>
                </div>
                <div class="card-body d-flex flex-column">
                    <div class="pricing-price">$0<span class="pricing-unit">/mo</span></div>
                    <p class="text-muted mb-4">Perfect for trying out InboxGenie</p>
                    
                    <ul class="list-unstyled mt-3 mb-4">
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Single email personalization</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Basic templates</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Email preview</span>
                        </li>
                        <li class="feature-item feature-unavailable">
                            <span class="feature-icon"><i class="bi bi-x-circle"></i></span>
                            <span>Bulk email generation</span>
                        </li>
                        <li class="feature-item feature-unavailable">
                            <span class="feature-icon"><i class="bi bi-x-circle"></i></span>
                            <span>Custom templates</span>
                        </li>
                        <li class="feature-item feature-unavailable">
                            <span class="feature-icon"><i class="bi bi-x-circle"></i></span>
                            <span>Advanced analytics</span>
                        </li>
                    </ul>
                    
                    <button type="button" class="btn btn-outline-primary mt-auto pricing-cta">Get Started</button>
                </div>
            </div>
        </div>
        
        <!-- Basic Tier -->
        <div class="col-md-6 col-lg-3 mb-4">
            <div class="card pricing-card h-100">
                <div class="card-header bg-light">
                    <h4 class="my-0 fw-normal">Basic</h4>
                </div>
                <div class="card-body d-flex flex-column">
                    <div class="pricing-price">$19<span class="pricing-unit">/mo</span></div>
                    <p class="text-muted mb-4">For small businesses and startups</p>
                    
                    <ul class="list-unstyled mt-3 mb-4">
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Single email personalization</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Up to 100 bulk emails/month</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>All templates</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Basic analytics</span>
                        </li>
                        <li class="feature-item feature-unavailable">
                            <span class="feature-icon"><i class="bi bi-x-circle"></i></span>
                            <span>Custom templates</span>
                        </li>
                        <li class="feature-item feature-unavailable">
                            <span class="feature-icon"><i class="bi bi-x-circle"></i></span>
                            <span>Priority support</span>
                        </li>
                    </ul>
                    
                    <button type="button" class="btn btn-primary mt-auto pricing-cta">Subscribe</button>
                </div>
            </div>
        </div>
        
        <!-- Professional Tier -->
        <div class="col-md-6 col-lg-3 mb-4">
            <div class="card pricing-card popular h-100">
                <span class="badge bg-primary popular-badge">Most Popular</span>
                <div class="card-header bg-primary text-white">
                    <h4 class="my-0 fw-normal">Professional</h4>
                </div>
                <div class="card-body d-flex flex-column">
                    <div class="pricing-price">$49<span class="pricing-unit">/mo</span></div>
                    <p class="text-muted mb-4">For growing teams and businesses</p>
                    
                    <ul class="list-unstyled mt-3 mb-4">
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Single email personalization</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Up to 1,000 bulk emails/month</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Advanced templates</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Custom templates</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Advanced analytics</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Email scheduling</span>
                        </li>
                    </ul>
                    
                    <button type="button" class="btn btn-primary mt-auto pricing-cta">Subscribe</button>
                </div>
            </div>
        </div>
        
        <!-- Enterprise Tier -->
        <div class="col-md-6 col-lg-3 mb-4">
            <div class="card pricing-card h-100">
                <div class="card-header bg-light">
                    <h4 class="my-0 fw-normal">Enterprise</h4>
                </div>
                <div class="card-body d-flex flex-column">
                    <div class="pricing-price">$99<span class="pricing-unit">/mo</span></div>
                    <p class="text-muted mb-4">For large-scale campaigns and teams</p>
                    
                    <ul class="list-unstyled mt-3 mb-4">
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Unlimited email personalization</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Unlimited bulk emails</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>All templates + priority access</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Premium analytics</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Advanced customization</span>
                        </li>
                        <li class="feature-item feature-available">
                            <span class="feature-icon"><i class="bi bi-check-circle-fill"></i></span>
                            <span>Priority support 24/7</span>
                        </li>
                    </ul>
                    
                    <button type="button" class="btn btn-outline-primary mt-auto pricing-cta">Contact Sales</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Pricing Calculator -->
    <div class="pricing-calculator">
        <h3 class="text-center mb-4">Estimate Your Cost</h3>
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <form id="calculatorForm">
                    <div class="mb-3">
                        <label for="emailVolume" class="form-label">How many emails do you plan to send per month?</label>
                        <input type="range" class="form-range" min="10" max="2000" step="10" id="emailVolume">
                        <div class="d-flex justify-content-between">
                            <span>10</span>
                            <span id="emailVolumeValue">500</span>
                            <span>2000+</span>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">What features do you need?</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="featureCustomTemplates">
                            <label class="form-check-label" for="featureCustomTemplates">
                                Custom Templates
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="featureAdvancedAnalytics">
                            <label class="form-check-label" for="featureAdvancedAnalytics">
                                Advanced Analytics
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="featurePrioritySupport">
                            <label class="form-check-label" for="featurePrioritySupport">
                                Priority Support
                            </label>
                        </div>
                    </div>
                    
                    <div class="mb-3">
                        <label class="form-label">Billing Cycle</label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="billingCycle" id="billingMonthly" checked>
                            <label class="form-check-label" for="billingMonthly">
                                Monthly
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="billingCycle" id="billingAnnual">
                            <label class="form-check-label" for="billingAnnual">
                                Annual (Save 20%)
                            </label>
                        </div>
                    </div>
                </form>
                
                <div class="calculator-result">
                    <div class="text-center">
                        <h5>Recommended Plan</h5>
                        <h3 id="recommendedPlan">Professional</h3>
                        <div class="pricing-price" id="estimatedCost">$49<span class="pricing-unit">/mo</span></div>
                        <p class="text-muted" id="costDescription">Perfect for your estimated usage of 500 emails/month</p>
                        <button class="btn btn-primary mt-3">Get Started</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- FAQ Section -->
    <div class="faq-section">
        <h2 class="text-center mb-4">Frequently Asked Questions</h2>
        
        <div class="row">
            <div class="col-lg-6">
                <div class="accordion" id="accordionFaq1">
                    <div class="faq-item accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                Can I try InboxGenie before subscribing?
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionFaq1">
                            <div class="accordion-body">
                                Yes! Our Free tier allows you to personalize single emails without any commitment. You can experience the quality of our AI personalization before deciding to upgrade to a paid plan for bulk functionality.
                            </div>
                        </div>
                    </div>
                    
                    <div class="faq-item accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                What happens if I exceed my monthly email limit?
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionFaq1">
                            <div class="accordion-body">
                                If you reach your monthly email limit, you can either upgrade to a higher tier or purchase additional email credits. We'll notify you when you're approaching your limit so you can plan accordingly.
                            </div>
                        </div>
                    </div>
                    
                    <div class="faq-item accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                Can I change plans later?
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionFaq1">
                            <div class="accordion-body">
                                Absolutely! You can upgrade, downgrade, or cancel your subscription at any time. When upgrading, the new features will be available immediately. If you downgrade, the changes will take effect at the start of your next billing cycle.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6">
                <div class="accordion" id="accordionFaq2">
                    <div class="faq-item accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                Is there a limit to the number of templates I can create?
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionFaq2">
                            <div class="accordion-body">
                                Basic plan users can create up to 5 custom templates, Professional users can create up to 20, and Enterprise users have unlimited template creation. All users have access to our pre-built template library.
                            </div>
                        </div>
                    </div>
                    
                    <div class="faq-item accordion-item">
                        <h2 class="accordion-header" id="headingFive">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                Do you offer discounts for nonprofits or educational institutions?
                            </button>
                        </h2>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionFaq2">
                            <div class="accordion-body">
                                Yes, we offer special pricing for nonprofit organizations, educational institutions, and startups. Please contact our sales team for more information about our discount programs.
                            </div>
                        </div>
                    </div>
                    
                    <div class="faq-item accordion-item">
                        <h2 class="accordion-header" id="headingSix">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                What payment methods do you accept?
                            </button>
                        </h2>
                        <div id="collapseSix" class="accordion-collapse collapse" aria-labelledby="headingSix" data-bs-parent="#accordionFaq2">
                            <div class="accordion-body">
                                We accept all major credit cards (Visa, Mastercard, American Express, Discover), PayPal, and for Enterprise customers, we can arrange invoicing with net-30 payment terms.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- CTA Section -->
    <div class="text-center mt-5 mb-5">
        <h2>Ready to get started?</h2>
        <p class="lead mb-4">Choose the plan that's right for you and start personalizing emails today</p>
        <a href="#" class="btn btn-lg btn-primary">Sign Up Now</a>
        <div class="mt-3">
            <small class="text-muted">Have questions? <a href="#">Contact our sales team</a></small>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Pricing toggle (monthly/annual)
        const billingToggle = document.getElementById('billingToggle');
        const pricingPrices = document.querySelectorAll('.pricing-price');
        const monthlyPrices = ['$0', '$19', '$49', '$99'];
        const annualPrices = ['$0', '$15', '$39', '$79'];
        
        billingToggle.addEventListener('change', function() {
            const isAnnual = this.checked;
            
            pricingPrices.forEach((price, index) => {
                if (index === 0) return; // Skip the free tier
                const priceArray = isAnnual ? annualPrices : monthlyPrices;
                price.innerHTML = priceArray[index] + '<span class="pricing-unit">/mo</span>';
            });
            
            // Update calculator
            updateCalculator();
        });
        
        // Pricing calculator
        const emailVolumeSlider = document.getElementById('emailVolume');
        const emailVolumeValue = document.getElementById('emailVolumeValue');
        const featureCustomTemplates = document.getElementById('featureCustomTemplates');
        const featureAdvancedAnalytics = document.getElementById('featureAdvancedAnalytics');
        const featurePrioritySupport = document.getElementById('featurePrioritySupport');
        const billingMonthly = document.getElementById('billingMonthly');
        const billingAnnual = document.getElementById('billingAnnual');
        const recommendedPlan = document.getElementById('recommendedPlan');
        const estimatedCost = document.getElementById('estimatedCost');
        const costDescription = document.getElementById('costDescription');
        
        // Initialize email volume display
        emailVolumeValue.textContent = emailVolumeSlider.value;
        
        // Update email volume display on slider change
        emailVolumeSlider.addEventListener('input', function() {
            emailVolumeValue.textContent = this.value;
            updateCalculator();
        });
        
        // Update calculator on any input change
        const calculatorInputs = [
            featureCustomTemplates, 
            featureAdvancedAnalytics, 
            featurePrioritySupport,
            billingMonthly,
            billingAnnual
        ];
        
        calculatorInputs.forEach(input => {
            input.addEventListener('change', updateCalculator);
        });
        
        function updateCalculator() {
            const emailVolume = parseInt(emailVolumeSlider.value);
            const needsCustomTemplates = featureCustomTemplates.checked;
            const needsAdvancedAnalytics = featureAdvancedAnalytics.checked;
            const needsPrioritySupport = featurePrioritySupport.checked;
            const isAnnual = billingAnnual.checked;
            
            let plan = 'Free';
            let cost = 0;
            
            // Determine plan based on volume and features
            if (emailVolume > 1000 || needsPrioritySupport) {
                plan = 'Enterprise';
                cost = isAnnual ? 79 : 99;
            } else if (emailVolume > 100 || needsCustomTemplates || needsAdvancedAnalytics) {
                plan = 'Professional';
                cost = isAnnual ? 39 : 49;
            } else if (emailVolume > 0) {
                plan = 'Basic';
                cost = isAnnual ? 15 : 19;
            }
            
            // Update UI
            recommendedPlan.textContent = plan;
            
            if (plan === 'Free') {
                estimatedCost.innerHTML = '$0<span class="pricing-unit">/mo</span>';
                costDescription.textContent = 'Perfect for single email personalization';
            } else {
                estimatedCost.innerHTML = '$' + cost + '<span class="pricing-unit">/mo</span>';
                costDescription.textContent = `Perfect for your estimated usage of ${emailVolume} emails/month`;
            }
        }
        
        // Initialize calculator
        updateCalculator();
    });
</script>
{% endblock %}
